<section class="press-wrap container py-4">
    <section class="hdr">
        <h1 class="title">Press Release</h1>
        <p class="sub">Latest news, partnerships, and announcements from SafeVig.</p>
    </section>

    <section class="filters row g-3 align-items-end">
        <section class="col-md-3">
            <label class="form-label">From date</label>
            <input type="date" class="form-control" [ngModel]="from()" (ngModelChange)="from.set($event || '')" />
        </section>

        <section class="col-md-3">
            <label class="form-label">To date</label>
            <input type="date" class="form-control" [ngModel]="to()
      " (ngModelChange)="to.set($event || '')" />
        </section>

        <section class="col-md-4">
            <label class="form-label">Keyword</label>
            <input type="text" class="form-control" placeholder="Search title, client, summary" [ngModel]="q()"
                (ngModelChange)="q.set($event || '')" />
        </section>
    </section>

    <section class="state mt-4" *ngIf="prs.loading()">Loadingâ€¦</section>
    <section class="state mt-4 text-danger" *ngIf="prs.error()">{{ prs.error() }}</section>
    <section class="state mt-4 muted" *ngIf="!prs.loading() && !prs.error() && !filtered().length">
        No press releases yet.
    </section>

    <section class="grid mt-3 row g-3" *ngIf="filtered().length">
        <section class="col-12" *ngFor="let item of filtered(); trackBy: trackById">
            <section class="card h-100 release-card">
                <section class="card-body">
                    <section class="client d-flex align-items-center gap-2 mb-2">
                        <img [src]="item.client.logoUrl || 'assets/Logos/SaveVigShortLogo.png'" class="logo"
                            alt="Client logo" (error)="onImgError($event)">
                        <a *ngIf="item.client?.siteUrl" [href]="item.client.siteUrl" target="_blank" rel="noopener"
                            class="client-name">
                            {{ item.client.name }}
                        </a>
                        <span *ngIf="!item.client?.siteUrl" class="client-name">{{ item.client.name }}</span>
                    </section>

                    <h2 class="card-title">{{ item.title }}</h2>
                    <p class="date">{{ item.publishedOn | date: 'longDate' }}</p>
                    <p class="summary">{{ item.summary }}</p>
                </section>
                <section class="card-footer bg-white border-0 d-flex justify-content-between align-items-center">
                    <a [routerLink]="['/press-release', item.id]" class="btn btn-primary btn-sm">Read more</a>
                    <span class="tags" *ngIf="item.tags?.length">
                        <span class="tag" *ngFor="let t of item.tags">{{ t }}</span>
                    </span>
                </section>
            </section>
        </section>
    </section>
</section>